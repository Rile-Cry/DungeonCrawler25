[gd_resource type="BehaviorTree" load_steps=17 format=3 uid="uid://c00xr2o8jwmcn"]

[ext_resource type="Script" uid="uid://dflkrw6mr2t5u" path="res://ai/tasks/path_scan.gd" id="1_jikak"]
[ext_resource type="Script" uid="uid://cpjj1o51nr6jc" path="res://ai/tasks/advance.gd" id="2_xd8ps"]
[ext_resource type="Script" uid="uid://nojxgxbvoiiw" path="res://ai/tasks/turn.gd" id="3_jikak"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_vb233"]
var/path/name = &"path"
var/path/type = 2
var/path/value = 0
var/path/hint = 1
var/path/hint_string = "0,3,0"
var/var/name = &"var"
var/var/type = 3
var/var/value = 0.0
var/var/hint = 0
var/var/hint_string = ""
var/open_paths/name = &"open_paths"
var/open_paths/type = 28
var/open_paths/value = []
var/open_paths/hint = 0
var/open_paths/hint_string = ""

[sub_resource type="BTAction" id="BTAction_jikak"]
script = ExtResource("1_jikak")
open_paths = &"open_paths"

[sub_resource type="BBNode" id="BBNode_xd8ps"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_jikak"]
animation_player = SubResource("BBNode_xd8ps")
animation_name = &"BotWalk"

[sub_resource type="BTAction" id="BTAction_xd8ps"]
script = ExtResource("2_xd8ps")

[sub_resource type="BTWait" id="BTWait_xd8ps"]
duration = 0.5

[sub_resource type="BTSequence" id="BTSequence_jikak"]
custom_name = "Advance"
children = [SubResource("BTPlayAnimation_jikak"), SubResource("BTAction_xd8ps"), SubResource("BTWait_xd8ps")]

[sub_resource type="BTParallel" id="BTParallel_jikak"]
num_successes_required = 2
num_failures_required = 0
custom_name = "PathScan"
children = [SubResource("BTAction_jikak"), SubResource("BTSequence_jikak")]

[sub_resource type="BTAction" id="BTAction_otxdf"]
script = ExtResource("3_jikak")

[sub_resource type="BBNode" id="BBNode_jikak"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTPlayAnimation" id="BTPlayAnimation_wjqib"]
await_completion = 0.5
animation_player = SubResource("BBNode_jikak")
animation_name = &"BotTurn"

[sub_resource type="BTSequence" id="BTSequence_wjqib"]
children = [SubResource("BTAction_otxdf"), SubResource("BTPlayAnimation_wjqib")]

[sub_resource type="BTSelector" id="BTSelector_xd8ps"]
children = [SubResource("BTParallel_jikak"), SubResource("BTSequence_wjqib")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_vb233")
root_task = SubResource("BTSelector_xd8ps")
